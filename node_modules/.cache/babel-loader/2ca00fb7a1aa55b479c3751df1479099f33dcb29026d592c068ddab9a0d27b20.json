{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u0412\\u0438\\u043A\\u0442\\u043E\\u0440_\\u041C/Desktop/Phytin/single_page/singpe/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u0412\\u0438\\u043A\\u0442\\u043E\\u0440_\\u041C/Desktop/Phytin/single_page/singpe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Pages_count(_ref){var setArayCar=_ref.setArayCar,ArayCar=_ref.ArayCar,cars=_ref.cars;var pageRef=useRef();var _useState=useState(_toConsumableArray(createPages().slice(0,3))),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];function createPages(){//Функция,вычисляющая массив с индексами страницц\nvar result=[];for(var i=1;i<=Math.ceil(cars.length/6);i++){result.push(i);}return result;}var max=createPages().length;function changecars(p){//Устанавливаем в сет 6 карточек с выбранной страницы\nsetArayCar(_toConsumableArray(cars.slice(p*6,(p+1)*6)));if(page.includes(p+1)&&p>0&&p+1<max){setPage([p,p+1,p+2]);}else if(p===0)setPage([1,2,3]);else if(p===max-1)setPage([max-2,max-1,max]);}function change(p){//Замена цвета в выбранном номере\ntry{document.querySelector(\".selected_page\").className=\"pages\";}catch(_unused){}if(p.className==\"pages\"){p.className=\"selected_page\";}else p.className=\"pages\";}return/*#__PURE__*/_jsxs(\"div\",{ref:pageRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"pages\",onClick:function onClick(event){change(event.target);changecars(0);},children:\"<\"}),page.map(function(item,index){return/*#__PURE__*/_jsx(\"button\",{className:\"pages\",onClick:function onClick(event){changecars(Number(item)-1);change(event.target);},children:item},index+item);}),/*#__PURE__*/_jsx(\"button\",{className:\"pages\",onClick:function onClick(event){change(event.target);changecars(max-1);},children:\">\"})]});}","map":{"version":3,"names":["React","useState","useRef","Pages_count","setArayCar","ArayCar","cars","pageRef","createPages","slice","page","setPage","result","i","Math","ceil","length","push","max","changecars","p","includes","change","document","querySelector","className","event","target","map","item","index","Number"],"sources":["C:/Users/Виктор_М/Desktop/Phytin/single_page/singpe/src/components/pages.js"],"sourcesContent":["import React,{useState,useRef} from \"react\";\r\n\r\n\r\nexport default function Pages_count({setArayCar,ArayCar,cars}){\r\n    const pageRef=useRef()\r\n    const [page,setPage]=useState([...createPages().slice(0,3)])  \r\n\r\n    function createPages(){               //Функция,вычисляющая массив с индексами страницц\r\n        let result=[]\r\n        for(let i=1;i<=Math.ceil(cars.length/6);i++){\r\n        result.push(i)\r\n        }\r\n    return result\r\n    }\r\n    let max=createPages().length  \r\n        \r\n    function changecars(p){                //Устанавливаем в сет 6 карточек с выбранной страницы\r\n        setArayCar([...cars.slice(p*6,(p+1)*6)])\r\n        if(page.includes(p+1) && p>0 && p+1<max) \r\n        { \r\n        setPage([p,p+1,p+2]) \r\n        }\r\n        else if(p===0) setPage([1,2,3])\r\n        else if(p===max-1) setPage([max-2,max-1,max])\r\n        }\r\n    function change(p){                                                     //Замена цвета в выбранном номере\r\n            try{\r\n                document.querySelector(\".selected_page\").className=\"pages\"\r\n            }\r\n        catch{}\r\n        if(p.className==\"pages\"){\r\n           \r\n             p.className=\"selected_page\"}\r\n        else p.className=\"pages\"\r\n    }\r\n    return (\r\n<div ref={pageRef}>\r\n<button className=\"pages\"  onClick={ (event)=>{ \r\n    change(event.target)\r\n    changecars(0)}\r\n    }>{\"<\"}</button>\r\n {page.map((item,index)=><button key={index+item} className=\"pages\"   onClick={ (event)=>{ \r\n    changecars(Number(item)-1)\r\n    change(event.target)\r\n   \r\n}\r\n    }>{item}</button>)}\r\n <button  className=\"pages\"  onClick={ (event)=>{ \r\n    change(event.target)\r\n    changecars(max-1)}\r\n    }>{\">\"}</button>\r\n </div>\r\n    )\r\n\r\n}"],"mappings":"gWAAA,MAAOA,MAAK,EAAEC,QAAQ,CAACC,MAAM,KAAO,OAAO,CAAC,wFAG5C,cAAe,SAASC,YAAW,MAA2B,IAAzBC,WAAU,MAAVA,UAAU,CAACC,OAAO,MAAPA,OAAO,CAACC,IAAI,MAAJA,IAAI,CACxD,GAAMC,QAAO,CAACL,MAAM,EAAE,CACtB,cAAqBD,QAAQ,oBAAKO,WAAW,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,wCAArDC,IAAI,eAACC,OAAO,eAEnB,QAASH,YAAW,EAAE,CAAgB;AAClC,GAAII,OAAM,CAAC,EAAE,CACb,IAAI,GAAIC,EAAC,CAAC,CAAC,CAACA,CAAC,EAAEC,IAAI,CAACC,IAAI,CAACT,IAAI,CAACU,MAAM,CAAC,CAAC,CAAC,CAACH,CAAC,EAAE,CAAC,CAC5CD,MAAM,CAACK,IAAI,CAACJ,CAAC,CAAC,CACd,CACJ,MAAOD,OAAM,CACb,CACA,GAAIM,IAAG,CAACV,WAAW,EAAE,CAACQ,MAAM,CAE5B,QAASG,WAAU,CAACC,CAAC,CAAC,CAAiB;AACnChB,UAAU,oBAAKE,IAAI,CAACG,KAAK,CAACW,CAAC,CAAC,CAAC,CAAC,CAACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CACxC,GAAGV,IAAI,CAACW,QAAQ,CAACD,CAAC,CAAC,CAAC,CAAC,EAAIA,CAAC,CAAC,CAAC,EAAIA,CAAC,CAAC,CAAC,CAACF,GAAG,CACvC,CACAP,OAAO,CAAC,CAACS,CAAC,CAACA,CAAC,CAAC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAC,CAAC,CACpB,CAAC,IACI,IAAGA,CAAC,GAAG,CAAC,CAAET,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAC1B,IAAGS,CAAC,GAAGF,GAAG,CAAC,CAAC,CAAEP,OAAO,CAAC,CAACO,GAAG,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAC7C,CACJ,QAASI,OAAM,CAACF,CAAC,CAAC,CAAsD;AAChE,GAAG,CACCG,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC,CAACC,SAAS,CAAC,OAAO,CAC9D,CACJ,cAAK,CAAC,CACN,GAAGL,CAAC,CAACK,SAAS,EAAE,OAAO,CAAC,CAEnBL,CAAC,CAACK,SAAS,CAAC,eAAe,EAAC,IAC5BL,EAAC,CAACK,SAAS,CAAC,OAAO,CAC5B,CACA,mBACJ,aAAK,GAAG,CAAElB,OAAQ,wBAClB,eAAQ,SAAS,CAAC,OAAO,CAAE,OAAO,CAAG,iBAACmB,KAAK,CAAG,CAC1CJ,MAAM,CAACI,KAAK,CAACC,MAAM,CAAC,CACpBR,UAAU,CAAC,CAAC,CAAC,EACZ,UAAE,GAAG,EAAU,CAClBT,IAAI,CAACkB,GAAG,CAAC,SAACC,IAAI,CAACC,KAAK,qBAAG,eAAyB,SAAS,CAAC,OAAO,CAAG,OAAO,CAAG,iBAACJ,KAAK,CAAG,CACrFP,UAAU,CAACY,MAAM,CAACF,IAAI,CAAC,CAAC,CAAC,CAAC,CAC1BP,MAAM,CAACI,KAAK,CAACC,MAAM,CAAC,CAExB,CACK,UAAEE,IAAI,EAL2BC,KAAK,CAACD,IAAI,CAK3B,GAAC,cACrB,eAAS,SAAS,CAAC,OAAO,CAAE,OAAO,CAAG,iBAACH,KAAK,CAAG,CAC5CJ,MAAM,CAACI,KAAK,CAACC,MAAM,CAAC,CACpBR,UAAU,CAACD,GAAG,CAAC,CAAC,CAAC,EAChB,UAAE,GAAG,EAAU,GACb,CAGP"},"metadata":{},"sourceType":"module","externalDependencies":[]}